<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="door">
	<select id="selectDoor"  parameterType="HashMap" resultType="HashMap">
		SELECT id
			 , building_id
			 , area_id
			 , floor_id
			 , door_nm
			 , alarm_typ
			 , created_at
			 , updated_at
		FROM T_DOOR TD
		WHERE id = #{id}
		<if test='@aero.cubox.util.CommonUtils@notEmpty(id)'>
			AND TD.id = #{id}
		</if>
	</select>

	<select id="selectDoorList" parameterType="HashMap" resultType="HashMap">
		SELECT id,
			   building_id,
			   area_id,
			   floor_id,
			   door_nm,
			   alarm_typ,
			   created_at,
			   updated_at
		FROM T_DOOR TD
		WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(building_id)'>
		  AND TD.building_id = #{building_id}
		</if>
		<if test='@aero.cubox.util.CommonUtils@notEmpty(area_id)'>
		  AND TD.area_id = #{area_id}
		</if>
		<if test='@aero.cubox.util.CommonUtils@notEmpty(floor_id)'>
		  AND TD.floor_id = #{floor_id}
		</if>
	</select>

	<select id="selectBuildingList" parameterType="HashMap" resultType="HashMap">
		SELECT id,
		       workplace_id,
		       building_nm,
		       created_at,
		       updated_at
		  FROM T_BUILDING TB
		 WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(workplace_id)'>
		  AND TB.workplace_id = #{workplace_id}
		</if>
	</select>

	<select id="selectFloorList" parameterType="HashMap" resultType="HashMap">
		SELECT id,
		       building_id,
		       area_id,
		       floor_nm,
		       created_at,
		       updated_at
		  FROM T_FLOOR TF
		 WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(id)'>
		  AND TF.id = #{id}
		</if>
	</select>

	<select id="selectAreaList" parameterType="HashMap" resultType="HashMap">
		SELECT id,
		       building_id,
		       area_nm,
		       created_at,
		       updated_at
		  FROM T_AREA TA
		 WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(building_id)'>
		   AND TA.building_id = #{building_id}
		</if>
	</select>

	<select id="selectWorkplaceList" parameterType="HashMap" resultType="HashMap">
		SELECT id,
               workplace_nm,
		       created_at,
		       updated_at
		  FROM T_WORKPLACE TW
		 WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(id)'>
		   AND TW.id = #{id}
		</if>
	</select>


	<select id="selectPermissionGroup"   parameterType="HashMap" resultType="HashMap">
		SELECT id,
			   building_id,
			   area_id,
			   floor_id,
			   door_nm,
			   alarm_typ,
			   created_at,
			   updated_at
		FROM T_DOOR TD
		WHERE 1 = 1
	</select>

	<select id="selectTerminalList"  parameterType="HashMap" resultType="HashMap">
		SELECT id,
			   terminal_cd,
			   terminal_typ,
			   door_id,
			   mgmt_num,
			   ip_addr,
			   complex_auth_typ,
			   face_auth_typ,
			   created_at,
			   updated_at
		FROM T_TERMINAL TT
		WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(building_id)'>
			AND TT.id = #{id}
		</if>
	</select>


	<select id="selectDoorSchList"  parameterType="HashMap" resultType="HashMap">
		SELECT id,
		       door_sch_nm,
		       created_at,
		       updated_at
		  FROM T_DOOR_SCH TDS
		 WHERE 1=1
		<if test='@aero.cubox.util.CommonUtils@notEmpty(id)'>
			AND TDS.id = #{id}
		</if>
	</select>




	<select id="selectTerminal" parameterType="HashMap" resultType="HashMap">
		SELECT id,
			   terminal_cd,
			   terminal_typ,
			   door_id,
			   mgmt_num,
			   ip_addr,
			   complex_auth_typ,
			   face_auth_typ,
			   created_at,
			   updated_at
		FROM T_TERMINAL TT
		WHERE 1 = 1
	</select>


	<insert id="insertDoor" parameterType="HashMap">
		insert
		  into
		T_DOOR (   area_id
		         , alarm_typ
		         , door_nm
		         , floor_id
		         , created_at
		         , updated_at
		         )
		 values  ( #{areaid}
				 , #{alarm_typ}
				 , #{door_nm}
				 , #{floor_id}
				 , SYSDATE
				 , SYSDATE
		         )

	</insert>

	<update id="updateDoor" parameterType="HashMap">
		UPDATE T_DOOR
		   SET building_id = ''
			 , area_id = ''
			 , alarm_typ = ''
			 , door_nm = ''
			 , floor_id = ''
			 , updated_at = SYSDATE
		 WHERE id = #{id}
	</update>

	<delete id="deleteDoorInformation" parameterType="HashMap" >
		DELETE
		  FROM T_DOOR
		 WHERE id = #{id}

	</delete>


	<select id="selectDoorGroup"   parameterType="HashMap" resultType="HashMap">
		SELECT id,
		       nm,
		       doorSchId
		FROM T_DOORGRP TD
		WHERE 1 = 1
	</select>

</mapper>